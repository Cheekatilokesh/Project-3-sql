SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [dbo].[ORDERMST_UPDATE_STATUS]
@oid as int,
@STATUS AS INT
AS
BEGIN
UPDATE ORDERMST SET Status=@STATUS WHERE OID=@oid

 END
GO
/****** Object:  StoredProcedure [dbo].[ORDERMST_UPDATE_PRICE]    Script Date: 11/21/2017 09:47:54 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [dbo].[ORDERMST_UPDATE_PRICE]

@OID AS INT,
@PRICE AS FLOAT
AS
BEGIN
UPDATE ORDERMST SET PRICE=@PRICE WHERE OID=@OID
END
GO
/****** Object:  StoredProcedure [dbo].[ORDERMST_UPDATE_Cart_ALLREADY_ADD]    Script Date: 11/21/2017 09:47:54 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create PROCEDURE [dbo].[ORDERMST_UPDATE_Cart_ALLREADY_ADD]
@OID AS INT,
@QNT AS INT,
@TPRICE AS FLOAT
AS
BEGIN
UPDATE ORDERMST SET Qnt=@QNT , TotalPrice=@TPRICE WHERE OID=@OID END
GO
/****** Object:  StoredProcedure [dbo].[ORDERMST_UPDATE_CART]    Script Date: 11/21/2017 09:47:54 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [dbo].[ORDERMST_UPDATE_CART]
@OID AS INT,
@QNT AS INT,
@TPRICE AS FLOAT
AS
BEGIN
UPDATE ORDERMST SET Qnt=QNT+@QNT , TotalPrice=TotalPrice+@TPRICE WHERE OID=@OID END
GO
/****** Object:  StoredProcedure [dbo].[ORDERMST_UPDATE]    Script Date: 11/21/2017 09:47:54 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [dbo].[ORDERMST_UPDATE]
@OID AS INT,
@EMAIL AS NVARCHAR(200),
@PNAME AS NVARCHAR(200),
@PRICE AS FLOAT,
@QNT AS INT,
@TPRICE AS FLOAT,
@IMAGE AS NVARCHAR(500),
@STATUS AS INT
AS
BEGIN
UPDATE ORDERMST SET EMAIL=@EMAIL,PNAME=@PNAME,PRICE=@PRICE,QNT=@QNT,TOTALPRICE=@TPRICE,IMAGE=@IMAGE,STATUS=@STATUS WHERE OID=@OID
END
GO
/****** Object:  StoredProcedure [dbo].[ORDERMST_SELECT_total_amt_pay]    Script Date: 11/21/2017 09:47:54 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create PROCEDURE [dbo].[ORDERMST_SELECT_total_amt_pay]
@email as nvarchar(256)
AS
BEGIN
SELECT SUM(totalprice)as tprice FROM ORDERMST where Email=@email and Status=0
END
GO
/****** Object:  StoredProcedure [dbo].[ORDERMST_SELECT_email-and_status]    Script Date: 11/21/2017 09:47:54 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create PROCEDURE [dbo].[ORDERMST_SELECT_email-and_status]
@email as nvarchar(256),
@status as int
AS
BEGIN
SELECT * FROM ORDERMST where Email=@email and Status=@status
END
GO
/****** Object:  StoredProcedure [dbo].[ORDERMST_SELECT_email_pname]    Script Date: 11/21/2017 09:47:54 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create PROCEDURE [dbo].[ORDERMST_SELECT_email_pname]
@email as nvarchar(256),
@pname as nvarchar(256)
AS
BEGIN
SELECT * FROM ORDERMST where Email=@email and PName=@pname and Status=0
END
GO
/****** Object:  StoredProcedure [dbo].[ORDERMST_SELECT_by_Status]    Script Date: 11/21/2017 09:47:54 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create PROCEDURE [dbo].[ORDERMST_SELECT_by_Status]
@status as int
AS
BEGIN
SELECT * FROM ORDERMST  where Status=@status
END
GO
/****** Object:  StoredProcedure [dbo].[ORDERMST_SELECT_by_PNAME]    Script Date: 11/21/2017 09:47:54 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [dbo].[ORDERMST_SELECT_by_PNAME]

@PNAME AS NVARCHAR(200)
AS
BEGIN
SELECT * FROM ORDERMST WHERE PNAME=@PNAME
END
GO
/****** Object:  StoredProcedure [dbo].[ORDERMST_SELECT_BY_OID]    Script Date: 11/21/2017 09:47:54 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [dbo].[ORDERMST_SELECT_BY_OID]
@OID AS INT
AS
BEGIN
SELECT * FROM ORDERMST WHERE @OID=OID 
END
GO
/****** Object:  StoredProcedure [dbo].[ORDERMST_SELECT_by_Email]    Script Date: 11/21/2017 09:47:54 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create PROCEDURE [dbo].[ORDERMST_SELECT_by_Email]
@email as nvarchar(256)
AS
BEGIN
SELECT * FROM ORDERMST  where Email=@email
END
GO
/****** Object:  StoredProcedure [dbo].[ORDERMST_SELECT]    Script Date: 11/21/2017 09:47:53 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [dbo].[ORDERMST_SELECT]
AS
BEGIN
SELECT * FROM ORDERMST 
END
GO
/****** Object:  StoredProcedure [dbo].[ORDERMST_INSERT]    Script Date: 11/21/2017 09:47:53 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [dbo].[ORDERMST_INSERT]

@EMAIL AS NVARCHAR(200),
@PNAME AS NVARCHAR(200),
@PRICE AS FLOAT,
@QNT AS INT,
@TPRICE AS FLOAT,
@IMAGE AS NVARCHAR(500),
@STATUS AS INT
AS
BEGIN
INSERT INTO ORDERMST VALUES(@EMAIL,@PNAME,@PRICE,@QNT,@TPRICE,@IMAGE,@STATUS,GETDATE())
END
GO
/****** Object:  StoredProcedure [dbo].[ORDERMST_DELETE]    Script Date: 11/21/2017 09:47:53 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [dbo].[ORDERMST_DELETE]

@OID AS INT
AS
BEGIN
DELETE FROM ORDERMST WHERE OID=@OID
END
GO
